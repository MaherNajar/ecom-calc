(this["webpackJsonpreact-app"]=this["webpackJsonpreact-app"]||[]).push([[0],{45:function(e,t,a){e.exports=a(64)},51:function(e,t,a){},57:function(e,t,a){},64:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(19),o=a.n(c),l=(a(50),a(51),a(6)),i=a(7),s=a(13),u=a(10),d=a(14),h=a(15),p=a.n(h),m=a(20),f=a(43),v=a(27),b=a(30),y=(a(57),a(16)),g=a(29),E=a.n(g);a(58);E.a.initializeApp({apiKey:"AIzaSyDa8p-_oLGFp15segwFgq2CGAzFHX1j1_k",authDomain:"my-ecom-calc.firebaseapp.com",databaseURL:"https://my-ecom-calc.firebaseio.com",projectId:"my-ecom-calc",storageBucket:"my-ecom-calc.appspot.com",messagingSenderId:"396043032363",appId:"1:396043032363:web:4d6e1c4d43302c8251d76e"});var O=E.a.firestore(),j=function(){function e(){Object(l.a)(this,e)}return Object(i.a)(e,null,[{key:"setFees",value:function(e,t){localStorage.setItem("fees",JSON.stringify({ebay:e,paypal:t}))}},{key:"getFees",value:function(){var e=localStorage.getItem("fees");return e?JSON.parse(e):this.defaultFees}},{key:"defaultFees",get:function(){return{ebay:.0684,paypal:.0342}}}]),e}(),S=function(){function e(t){Object(l.a)(this,e),this.id="",this.name="",this.url="",this.cost=0,this.sell=0,Object.assign(this,t)}return Object(i.a)(e,[{key:"profit",get:function(){var e=j.getFees(),t=this.sell*e.ebay,a=this.sell*e.paypal;return+(this.sell-this.cost-t-a).toFixed(2)}},{key:"rate",get:function(){return+(this.profit/this.sell*100).toFixed(2)}},{key:"isNew",get:function(){return""===this.id}}]),e}();function k(){return w.apply(this,arguments)}function w(){return(w=Object(m.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=[],e.next=3,O.collection("products").get().then((function(e){e.forEach((function(e){var a=new S(Object(y.a)({id:e.id},e.data()));t.push(a)}))}));case 3:return e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function C(e){var t=this.fs.createId();this.fs.doc("products/".concat(t)).set(Object(y.a)({},e,{id:t}))}function N(e){this.fs.doc("products/".concat(e.id)).update(Object(y.a)({},e))}var P=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={products:[],save:!0},a.handleInputChange=function(e,t){var n=Object(f.a)(a.state.products),r=n.indexOf(t),c=e.target.id,o=e.target.value;t[c]=o,n.splice(r,1,t),a.setState({products:n,save:!1})},a.handleSave=function(){a.setState({save:!0})},a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=Object(m.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=this,e.next=3,k();case 3:e.t1=e.sent,e.t2={products:e.t1},e.t0.setState.call(e.t0,e.t2);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"container",style:{overflowX:"auto"}},r.a.createElement("h3",{className:"text-center"},"Ecommerce calculator"),r.a.createElement(v.a,{className:this.state.save?"float-right icon":"float-right icon blinking",icon:b.a,onClick:this.handleSave}),r.a.createElement(v.a,{className:"float-right icon",icon:b.b}),r.a.createElement("table",{className:"table table-stripped table-bordered"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Product"),r.a.createElement("th",null,"Cost"),r.a.createElement("th",null,"Sell"),r.a.createElement("th",null,"Profit"),r.a.createElement("th",null,"Rate"))),r.a.createElement("tbody",null,this.state.products.map((function(t){return r.a.createElement("tr",{key:t.id},r.a.createElement("td",null,r.a.createElement("a",{href:t.href,onClick:function(){return e.props.onSelectProduct(t)},id:"product"},t.name)),r.a.createElement("td",null,r.a.createElement("input",{value:t.cost,id:"cost",type:"number",onChange:function(a){return e.handleInputChange(a,t)}})),r.a.createElement("td",null,r.a.createElement("input",{value:t.sell,type:"number",id:"sell",onChange:function(a){return e.handleInputChange(a,t)}})),r.a.createElement("td",null,r.a.createElement("span",{id:"profit"},t.profit)),r.a.createElement("td",null,r.a.createElement("span",{style:{color:t.rate>=10?"green":"red"},id:"rate"},t.rate," %")))})))))}}]),t}(n.Component),I=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={product:null},a.handleInputChange=function(e){var t=e.target,n=Object.create(new S,Object(y.a)({},a.state.product));console.log(n),n[t.id]=t.value,console.log(n),a.setState(n)},a.handleSubmit=function(e){e.preventDefault();var t=a.state.product;t.isNew?C(t):N(t),a.props.onSubmit(1)},a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.selectedProduct;console.log(e),this.initialiseProduct(e)}},{key:"initialiseProduct",value:function(e){e?this.setState({product:e}):this.setState({product:new S})}},{key:"render",value:function(){var e=this.state.product;return r.a.createElement("div",{className:"container"},r.a.createElement("h3",{className:"text-center text-nowrap"},"Add new product"),r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"name"},"Product name"),r.a.createElement("input",{onChange:this.handleInputChange,id:"name",className:"form-control",type:"text",value:null===e||void 0===e?void 0:e.name})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"url"},"URL"),r.a.createElement("input",{onChange:this.handleInputChange,id:"url",className:"form-control",type:"url",value:null===e||void 0===e?void 0:e.url})),r.a.createElement("input",{type:"submit",className:"btn btn-primary",value:"Save"})))}}]),t}(n.Component),x=a(68),F=a(67),K=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={key:1,selectedProduct:null},a.handleKey=function(e){a.setState({key:e})},a.handleSelectedProduct=function(e){a.setState({selectedProduct:e}),a.handleKey(2)},a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.state,t=e.selectedProduct,a=e.key;return r.a.createElement(x.a,{activeKey:a,onSelect:this.handleKey},r.a.createElement(F.a,{eventKey:"1",title:"Products"},r.a.createElement(P,{onSelectProduct:this.handleSelectedProduct})),r.a.createElement(F.a,{eventKey:"2",title:"Product form"},r.a.createElement(I,{selectedProduct:t,onSubmit:this.handleKey})))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(K,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[45,1,2]]]);
//# sourceMappingURL=main.da2bff7a.chunk.js.map